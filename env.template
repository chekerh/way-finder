########################################
# Wayfindr Backend Environment Settings
########################################

# MongoDB connection string.
# Example for local Mongo:
# MONGODB_URI=mongodb://localhost:27017/wayfindr
MONGODB_URI=mongodb+srv://wayfinder:wayfinder2025@cluster0.q5mskm3.mongodb.net/wayfindr?appName=Cluster0
#wayfinder2025 is just an Example place the users password in its place
# Secret used to sign JWT access tokens.
# Generate a strong value with `openssl rand -base64 32`.
JWT_SECRET=5MPYwW8p2u06Xh2LdK6YtFut4yqN1XfL3lL7u9m7m0g=


# Allowed frontend origin(s) for CORS
FRONTEND_ORIGIN=https://wayfinder.app

# Where the onboarding brain (n8n) lives (optional - for n8n-based onboarding)
N8N_BASE_URL=https://cheker.app.n8n.cloud
USE_N8N_ONBOARDING=false

# OpenAI Configuration for AI-powered dynamic onboarding questions and chat
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here
# Optional: Specify which OpenAI model to use (defaults to gpt-4o-mini)
# Options: gpt-4o-mini, gpt-4o, gpt-3.5-turbo
OPENAI_MODEL=gpt-4o-mini

# Hugging Face Configuration for free AI chat model
# Get your free API key from: https://huggingface.co/settings/tokens
# Free tier includes 1000 requests/month, unlimited for paid plans
HUGGINGFACE_API_KEY=your_huggingface_api_key_here
# Optional: Specify which Hugging Face model to use (defaults to Mistral-7B-Instruct)
# Other options: meta-llama/Llama-2-7b-chat-hf, microsoft/DialoGPT-large, etc.
HUGGINGFACE_MODEL=mistralai/Mistral-7B-Instruct-v0.2

# Travel API Keys
# REQUIRED: Get Amadeus API keys from: https://developers.amadeus.com/
# Create a test app to get free API keys for development
AMADEUS_CLIENT_ID=your_amadeus_client_id
AMADEUS_CLIENT_SECRET=your_amadeus_client_secret
AMADEUS_HOST=https://test.api.amadeus.com

# Payment API Keys
# PayPal API credentials (https://developer.paypal.com/)
# Get your credentials from: https://developer.paypal.com/developer/applications/
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=sandbox # or live
PAYPAL_API_BASE_URL=https://api-m.sandbox.paypal.com

# Image Hosting - ImgBB API
# Get your API key from: https://api.imgbb.com/
IMGBB_API_KEY=your_imgbb_api_key

# Weather API - OpenWeatherMap
# Get your free API key from: https://openweathermap.org/api
# Free tier: 1000 calls/day, 60 calls/minute
OPENWEATHER_API_KEY=your_openweather_api_key_here

# Google OAuth2 Credentials
# Get your credentials from: https://console.cloud.google.com/
# Create OAuth 2.0 Client ID for Android (required) and Web (optional)
# For Android: Only Client ID is needed (no secret required)
# For Web: Both Client ID and Secret are needed (optional, only if you want web OAuth)
GOOGLE_CLIENT_ID_ANDROID=your_google_android_client_id
GOOGLE_CLIENT_ID_WEB=your_google_web_client_id
GOOGLE_CLIENT_SECRET_WEB=your_google_web_client_secret

# Google Maps API Key
# Get your API key from: https://console.cloud.google.com/google/maps-apis/credentials
# This key is used by the Android app to display maps with memories
# Make sure to restrict the key to Android apps and Maps SDK for Android
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# Email Configuration (for email verification)
# Using Gmail SMTP or another email service
EMAIL_SERVICE=gmail # or smtp, sendgrid, etc.
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password # For Gmail, use App Password, not regular password
EMAIL_FROM=WayFinder <your_email@gmail.com>
FRONTEND_URL=https://wayfinder.app # Base URL for email verification links

# AI Video Generation
# Priority 1: Shotstack API (RECOMMENDED - Best for video montages from multiple images)
# Get your API keys from: https://shotstack.io/ → Tools → API Keys
# 
# IMPORTANT: Use SANDBOX key for development/testing (free, unlimited, but watermarked)
#            Use PRODUCTION key for production (requires credits, no watermarks)
#
# For development/testing, use your SANDBOX key (starts with 'zk' or similar)
# Example: SHOTSTACK_API_KEY=zk8cJBBVRVyBJyIz7WtHlW5EFGPODIOqUGbXPthH
# The system will auto-detect sandbox keys and use the stage API
#
# For production, use your PRODUCTION key (starts with 'iw' or similar)
# Example: SHOTSTACK_API_KEY=iwbcyF7Dn7jJDxBDxDxqxLdFXLO0FTiOx4YxO4AT
SHOTSTACK_API_KEY=your_shotstack_sandbox_or_production_key_here
# Optional: Force environment (auto-detected from key if not set)
# SHOTSTACK_ENV=sandbox  # or 'production'
# Optional: Shotstack API URL (auto-detected if not set)
# Sandbox: https://api.shotstack.io/stage
# Production: https://api.shotstack.io/v1
# SHOTSTACK_API_URL=https://api.shotstack.io/stage

# Priority 2: Cloudinary (Most reliable for image-to-video montages)
# Get your credentials from: https://cloudinary.com/console
# Cloudinary can create video montages from images with transitions and effects
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# Priority 3: Custom AI video service URL (if set, this takes precedence over Cloudinary)
AI_VIDEO_SERVICE_URL=https://your-ai-video-service.com/generate

# Priority 4: Replicate API (Best for AI video generation from text/prompts)
# Get your API token from: https://replicate.com/account/api-tokens
# Replicate has excellent video generation models
REPLICATE_API_TOKEN=your_replicate_api_token_here
# Optional: Specify which Replicate model to use for video generation
# Default: 'anotherjesse/zeroscope-v2-xl'
REPLICATE_VIDEO_MODEL=anotherjesse/zeroscope-v2-xl

# Priority 5: Kaggle Notebook API (For custom models on Kaggle)
# Get your credentials from: https://www.kaggle.com/settings
# Note: Requires setting up a Kaggle notebook with video generation model
# 
# IMPORTANT: Kaggle now uses API Tokens (new system) instead of kaggle.json
# 1. Go to https://www.kaggle.com/settings
# 2. In "API Tokens (Recommended)" section, click "Generate New Token"
# 3. Give it a name (e.g., "wayfinder-video")
# 4. Click the three dots (⋯) next to the token → "Copy Token" or "View Token"
# 5. Copy the full token value (long string) - this is your KAGGLE_KEY
#
# Alternative: Use "Legacy API Credentials" section to download kaggle.json
# (but this will expire existing legacy keys)
KAGGLE_USERNAME=your_kaggle_username
KAGGLE_KEY=your_kaggle_api_token_here
# Optional: Kaggle notebook URL for video generation
# KAGGLE_NOTEBOOK_URL=https://www.kaggle.com/api/v1/kernels/output

# Priority 6: Hugging Face API (if other options are not available)
# Note: Hugging Face has limited video generation models for image-to-video
# Get your API key from: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=your_huggingface_api_key_here
# Optional: Hugging Face Space URL for video generation (if you have a custom space)
# HUGGINGFACE_SPACE_URL=https://your-space.hf.space/api/predict
# Optional: Hugging Face video model name (default: damo-vilab/modelscope-text-to-video-synthesis)
# HUGGINGFACE_VIDEO_MODEL=damo-vilab/modelscope-text-to-video-synthesis

# Fallback: Default placeholder video URL if no AI service is configured
DEFAULT_VIDEO_PLACEHOLDER_URL=https://storage.googleapis.com/wayfinder-static/sample-journey-video.mp4

# Video Generation - Music Selection
# OPTIONAL: Pixabay API key for music selection (get free key from https://pixabay.com/api/docs/)
# If not provided, system will use fallback music
PIXABAY_API_KEY=your_pixabay_api_key_here

# Redis Configuration (for BullMQ job queue)
# NOTE: Redis is OPTIONAL - if not configured, video generation will process directly (synchronous)
# For production, Redis is recommended for better performance and async processing
# On Render, you can add a Redis service or use Redis Cloud (free tier available)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
# Optional: Redis URL (alternative to host/port/password)
# REDIS_URL=redis://localhost:6379
# Set to true if your Redis provider requires TLS (e.g. Upstash, Render Redis)
# REDIS_TLS=true
# Set to false if your provider uses self-signed certificates
# REDIS_TLS_REJECT_UNAUTHORIZED=false

# Firebase Cloud Messaging (FCM) Configuration
# Option 1: JSON string in environment variable (RECOMMENDED for Render/production)
# Copy the entire JSON content from your Firebase service account key file
# IMPORTANT: Keep all quotes escaped or use single quotes around the entire JSON
FIREBASE_SERVICE_ACCOUNT_KEY='{"type":"service_account","project_id":"your-project-id","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"...","client_id":"...","auth_uri":"...","token_uri":"...","auth_provider_x509_cert_url":"...","client_x509_cert_url":"..."}'

# Option 2: Path to service account JSON file (for local development only)
# FIREBASE_SERVICE_ACCOUNT_PATH=/path/to/wayfinder-firebase-adminsdk.json

# Optional: Override local dev port (defaults to 3000).
# PORT=3000

